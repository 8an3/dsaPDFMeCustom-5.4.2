<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Webpack App</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body style="margin: 0">
    <div>
      <button onclick="saveTemplateByAPI()">saveTemplateByAPI</button>
      <button onclick="getTemplateFromLocalStorage()">getTemplateFromLocalStorage</button>
      /
      <button onclick="previewInit()">Init preview</button>
      <button onclick="editablePreviewInit()">Init editable preview</button>
      <button onclick="editorInit()">Init editor</button>
      /
      <button onclick="previewDestroy()">Destroy preview</button>
      <button onclick="editablePreviewDestroy()">Destroy editable preview</button>
      <button onclick="editorDestroy()">Destroy editor</button>
    </div>
    <div id="app"></div>
    <script>
      const getSize = () => ({ height: 900, width: 900 });
      const domContainer = document.getElementById('app');
      const getSampleTemplate = () => ({
        columns: ['field1', 'field2'],
        sampledata: [
          {
            field1: 'bb',
            field2: 'aaaaaaaaaaaa',
          },
        ],
        fontName: '',
        basePdf: LabelmakeUi.blankPdf,
        schemas: [
          {
            field1: {
              type: 'text',
              position: { x: 20, y: 20 },
              width: 100,
              height: 15,
              alignment: 'left',
              fontSize: 30,
              characterSpacing: 0,
              lineHeight: 1,
            },
            field2: {
              type: 'text',
              position: { x: 20, y: 35 },
              width: 100,
              height: 40,
              alignment: 'left',
              fontSize: 20,
              characterSpacing: 0,
              lineHeight: 1,
            },
          },
        ],
      });

      const inited = 'inited';
      const preview = 'preview';
      const editablePreview = 'editablePreview';
      const editor = 'editor';

      function init() {
        const editor = new LabelmakeUi.TemplateDesigner({
          domContainer,
          template: getSampleTemplate(),
          saveTemplate: (t) => {
            console.log('saveTemplate', t);
          },
          size: getSize(),
        });

        // setTimeout(() => {
        //   editor.destroy();
        // }, 2000);
      }

      window.onload = init;
    </script>
  </body>
</html>
